# 勤怠管理アプリ - システム概要

## 📋 アプリケーション概要

### 目的

従業員の勤怠管理を効率化し、正確な労働時間の記録と管理を実現するWebアプリケーション

### 対象ユーザー

- **従業員**: 日々の勤怠入力・確認
- **管理者**: 勤怠データの管理・集計

### 主要機能一覧

#### 🕐 勤怠入力機能

- **日次勤怠入力**: 出勤時間、退勤時間、休憩時間、勤務場所の記録
- **自動計算**: 勤務時間の自動計算とリアルタイム表示
- **バリデーション**: 入力値の妥当性チェック（時刻の前後関係など）
- **編集制限**: 過去7日間のデータのみ編集可能

#### 📱 ユーザーインターフェース

- **レスポンシブデザイン**: モバイルファースト設計
- **直感的操作**: タッチ操作に最適化されたピッカー
- **長押し編集**: 保存済みデータの長押しによる編集モード
- **リアルタイム更新**: 入力値の即座な反映

#### 📊 データ管理機能

- **月次表示**: カレンダー形式での月間勤怠データ表示
- **入力状況表示**: 各日の入力完了状況の視覚的表示
- **データ同期**: オンライン・オフライン対応の自動同期
- **バックアップ**: Google Sheetsへの自動バックアップ

#### 🔐 認証・セキュリティ

- **ユーザー認証**: セキュアなログイン機能
- **セッション管理**: 自動ログアウト機能
- **データ保護**: ローカルストレージとクラウドの二重保存

### 技術スタック

#### フロントエンド

- **React 18.2.0**: UIライブラリ
- **TypeScript 5.0.2**: 型安全な開発
- **Vite 4.4.5**: 高速ビルドツール
- **React Router DOM 7.5.3**: SPA ルーティング
- **Styled Components 6.1.17**: CSS-in-JS スタイリング
- **Date-fns 4.1.0**: 日付操作ライブラリ

#### 開発・品質管理

- **ESLint**: コード品質チェック（Airbnb設定）
- **Prettier**: コードフォーマッター
- **TypeScript Strict Mode**: 厳密な型チェック

#### バックエンド・インフラ

- **Google Apps Script**: サーバーサイドロジック
- **Google Sheets**: データストレージ
- **Netlify**: ホスティング・CI/CD
- **Netlify Functions**: サーバーレス API

## 🏗️ システム構成図

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   フロントエンド    │    │   Netlify        │    │  Google Apps    │
│   (React/TS)    │◄──►│   Functions      │◄──►│  Script         │
│                 │    │   (Proxy API)    │    │                 │
└─────────────────┘    └──────────────────┘    └─────────────────┘
         │                                               │
         ▼                                               ▼
┌─────────────────┐                            ┌─────────────────┐
│ ローカルストレージ  │                            │  Google Sheets  │
│ (一時保存)       │                            │  (永続化)       │
└─────────────────┘                            └─────────────────┘
```

### データフロー

1. **入力**: ユーザーがフロントエンドで勤怠データを入力
2. **一時保存**: ローカルストレージに即座に保存（オフライン対応）
3. **同期**: バックグラウンドでGoogle Apps Scriptに送信
4. **永続化**: Google Sheetsに最終的に保存
5. **取得**: 月次データの表示時にGoogle Sheetsから取得

### 外部サービス連携

#### Google Apps Script (GAS)

- **役割**: サーバーサイドロジック、認証、データ操作
- **機能**:
  - ユーザー認証・認可
  - 勤怠データのCRUD操作
  - Google Sheetsとの連携
  - データバリデーション

#### Google Sheets

- **役割**: データストレージ
- **構造**:
  - ユーザー管理シート
  - 月次勤怠データシート
  - 設定・マスタデータシート

#### Netlify

- **役割**: ホスティング・デプロイメント
- **機能**:
  - 静的サイトホスティング
  - CI/CD パイプライン
  - Netlify Functions（API プロキシ）
  - 環境変数管理

## 🔄 デプロイメント環境

### 開発環境

- **ローカル開発**: Vite Dev Server
- **API**: プロキシ経由でGAS呼び出し
- **データ**: 開発用Google Sheets

### 本番環境

- **ホスティング**: Netlify
- **API**: Netlify Functions経由でGAS呼び出し
- **データ**: 本番用Google Sheets
- **ドメイン**: カスタムドメイン対応

### CI/CD パイプライン

1. **コミット**: GitHubへのプッシュ
2. **ビルド**: Netlifyでの自動ビルド
3. **テスト**: 品質チェック（lint, type-check, build）
4. **デプロイ**: 自動デプロイメント

## 📊 パフォーマンス特性

### 応答性

- **初回ロード**: 2秒以内
- **ページ遷移**: 500ms以内
- **データ同期**: バックグラウンド実行

### 可用性

- **オフライン対応**: Service Worker活用
- **データ保護**: ローカル・クラウド二重保存
- **エラー回復**: 自動リトライ機能

### スケーラビリティ

- **ユーザー数**: 中小企業規模（～500名）
- **データ量**: 月間数万レコード
- **同時接続**: 100ユーザー程度

## 🔒 セキュリティ概要

### 認証・認可

- **認証方式**: トークンベース認証
- **セッション管理**: 自動タイムアウト
- **権限制御**: ユーザー別データアクセス制限

### データ保護

- **通信暗号化**: HTTPS通信
- **データ暗号化**: Google Sheets標準暗号化
- **アクセス制御**: Google Apps Script権限管理

## 📈 今後の拡張予定

### 短期（3ヶ月以内）

- 勤怠データエクスポート機能
- 管理者向けダッシュボード
- 通知機能（未入力アラート）

### 中期（6ヶ月以内）

- 承認ワークフロー
- 有給管理機能
- レポート機能強化

### 長期（1年以内）

- モバイルアプリ化（PWA拡張）
- 他システム連携（給与計算システム等）
- AI活用（異常検知、予測分析）

---

**最終更新**: 2025-06-14  
**バージョン**: 0.1.0  
**作成者**: 開発チーム
